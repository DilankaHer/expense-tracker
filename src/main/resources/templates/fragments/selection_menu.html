<div th:fragment="categorySelection(categories)"
    class="absolute inset-0 border rounded-2xl bg-secondary dark:bg-darkformbg p-6 md:p-3 lg:p-6 z-20 md:text-sm lg:text-base">

    <!-- Header -->
    <div class="flex items-center justify-between mb-6 md:mb-3 lg:mb-6">
        <h2 class="text-xl md:text-base lg:text-xl font-semibold">
            Select Category
        </h2>
        <button class="p-1 border rounded-full
                   w-12 md:w-7 md:h-7 lg:w-12 lg:h-12
                   hover:bg-secondary/50 dark:hover:bg-darksecondary/50
                   transition flex items-center justify-center" onclick="document.getElementById('categorySelection').innerHTML = ''">
            <th:block th:replace="~{icons/general.html :: general-close}"></th:block>
        </button>
    </div>

    <div>
        <div class="flex flex-row gap-10 md:gap-4 lg:gap-10 flex-wrap items-start">
            <div class="flex flex-col items-center w-18 md:w-12 lg:w-18 h-full overflow-x-hidden text-center cursor-pointer"
                th:each="category : ${categories}" th:data-category="${category.name}" th:data-icon="${category.icon}"
                onclick="selectCategory(this)">
                <div class="w-12 md:w-6 lg:w-12 flex items-center justify-center">
                    <th:block th:replace="~{icons/category.html :: ${category.icon}}"></th:block>
                </div>
                <p class="text-sm md:text-xs lg:text-sm truncate w-full" th:text="${category.name}"></p>
            </div>
        </div>
    </div>
</div>

<div th:fragment="subCategorySelection(subCategories)"
    class="absolute inset-0 border rounded-2xl bg-secondary dark:bg-darkformbg p-6 md:p-3 lg:p-6 z-30 md:text-sm lg:text-base">

    <!-- Header -->
    <div class="flex items-center justify-between mb-6 md:mb-3 lg:mb-6">
        <h2 class="text-xl md:text-base lg:text-xl font-semibold">
            Select Sub Category
        </h2>
        <button class="p-1 border rounded-full
                   w-12 md:w-7 md:h-7 lg:w-12 lg:h-12
                   hover:bg-secondary/50 dark:hover:bg-darksecondary/50
                   transition flex items-center justify-center" onclick="document.getElementById('subCategorySelection').innerHTML = ''">
            <th:block th:replace="~{icons/general.html :: general-close}"></th:block>
        </button>
    </div>

    <div>
        <div th:if="${#lists.isEmpty(subCategories)}" class="flex flex-col text-center justify-center">
            <p class="md:text-sm lg:text-base">No sub categories found</p>
        </div>
        <div th:if="${not #lists.isEmpty(subCategories)}" class="flex flex-row gap-10 md:gap-4 lg:gap-10 flex-wrap items-start">
            <div class="flex flex-col items-center w-18 md:w-12 lg:w-18 h-full overflow-x-hidden text-center cursor-pointer"
                th:each="subCategory : ${subCategories}" th:data-subCategory="${subCategory.name}"
                th:data-icon="${subCategory.icon}" onclick="selectSubCategory(this)">
                <div class="w-12 md:w-6 lg:w-12 flex items-center justify-center">
                    <th:block th:replace="~{icons/sub_category.html :: ${subCategory.icon}}"></th:block>
                </div>
                <p class="text-sm md:text-xs lg:text-sm truncate w-full" th:text="${subCategory.name}"></p>
            </div>
        </div>
    </div>
</div>

<th:block th:fragment="categorySelectionSingle(category)" th:replace="~{icons/category.html :: ${category.icon}}">
</th:block>